{"version":3,"file":"Bounce.js","sourceRoot":"","sources":["../../src/plugins/Bounce.ts"],"names":[],"mappings":"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","sourcesContent":["import { Point, Rectangle } from '@pixi/core';\nimport { Plugin } from './Plugin';\nimport ease from '../ease';\n\nimport type { Drag } from './Drag';\nimport type { IDecelerateOptions } from './Decelerate';\nimport type { Pinch } from './Pinch';\nimport type { Viewport } from '../Viewport';\n\n/** Options for {@link Bounce}. */\nexport interface IBounceOptions\n{\n    /** \"all\", \"horizontal\", \"vertical\", or combination of \"top\", \"bottom\", \"right\", \"left\" (e.g., 'top-bottom-right') */\n    sides?:\n    'all'\n    | 'horizontal'\n    | 'vertical'\n    | string;\n\n    /** Friction to apply to decelerate if active */\n    friction?: number;\n\n    /** Time in ms to finish bounce */\n    time?: number;\n\n    /** Use this bounceBox instead of (0, 0, viewport.worldWidth, viewport.worldHeight) */\n    bounceBox?: Rectangle | null;\n\n    /** Ease function or name (see http://easings.net/ for supported names) */\n    ease?: any;\n\n    /** (top/bottom/center and left/right/center, or center) where to place world if too small for screen */\n    underflow?: 'center' | string;\n}\n\n/** Bounce state along an axis */\nexport interface IBounceState\n{\n    /** Elapsed time since bounce started */\n    time: number;\n\n    /** Starting coordinate */\n    start: number;\n\n    /** Change in coordinate through bounce */\n    delta: number;\n\n    /** Ending coordinate */\n    end: number;\n}\n\nconst DEFAULT_BOUNCE_OPTIONS: Required<IBounceOptions> = {\n    sides: 'all',\n    friction: 0.5,\n    time: 150,\n    ease: 'easeInOutSine',\n    underflow: 'center',\n    bounceBox: null\n};\n\n/**\n * @fires bounce-start-x\n * @fires bounce.end-x\n * @fires bounce-start-y\n * @fires bounce-end-y\n * @public\n */\nexport class Bounce extends Plugin\n{\n    /** The options passed to initialize this plugin, cannot be modified again. */\n    public readonly options: Readonly<Required<IBounceOptions>>;\n\n    /** Holds whether to bounce from left side. */\n    public readonly left: boolean;\n\n    /** Holds whether to bounce from top side. */\n    public readonly top: boolean;\n\n    /** Holds whether to bounce from right side. */\n    public readonly right: boolean;\n\n    /** Holds whether to bounce from bottom side. */\n    public readonly bottom: boolean;\n\n    /** Direction of underflow along x-axis. */\n    public readonly underflowX: -1 | 0 | 1;\n\n    /** Direction of underflow along y-axis. */\n    public readonly underflowY: -1 | 0 | 1;\n\n    /** Easing */\n    protected ease: any;\n\n    /** Bounce state along x-axis */\n    protected toX!: IBounceState | null;\n\n    /** Bounce state along y-axis */\n    protected toY!: IBounceState | null;\n\n    /**\n     * This is called by {@link Viewport.bounce}.\n     */\n    constructor(parent: Viewport, options: IBounceOptions = {})\n    {\n        super(parent);\n\n        this.options = Object.assign({}, DEFAULT_BOUNCE_OPTIONS, options);\n        this.ease = ease(this.options.ease, 'easeInOutSine');\n\n        if (this.options.sides)\n        {\n            if (this.options.sides === 'all')\n            {\n                this.top = this.bottom = this.left = this.right = true;\n            }\n            else if (this.options.sides === 'horizontal')\n            {\n                this.right = this.left = true;\n                this.top = this.bottom = false;\n            }\n            else if (this.options.sides === 'vertical')\n            {\n                this.left = this.right = false;\n                this.top = this.bottom = true;\n            }\n            else\n            {\n                this.top = this.options.sides.indexOf('top') !== -1;\n                this.bottom = this.options.sides.indexOf('bottom') !== -1;\n                this.left = this.options.sides.indexOf('left') !== -1;\n                this.right = this.options.sides.indexOf('right') !== -1;\n            }\n        }\n        else\n        {\n            this.left = this.top = this.right = this.bottom = false;\n        }\n\n        const clamp = this.options.underflow.toLowerCase();\n\n        if (clamp === 'center')\n        {\n            this.underflowX = 0;\n            this.underflowY = 0;\n        }\n        else\n        {\n            // eslint-disable-next-line no-nested-ternary\n            this.underflowX = (clamp.indexOf('left') !== -1) ? -1 : (clamp.indexOf('right') !== -1) ? 1 : 0;\n            // eslint-disable-next-line no-nested-ternary\n            this.underflowY = (clamp.indexOf('top') !== -1) ? -1 : (clamp.indexOf('bottom') !== -1) ? 1 : 0;\n        }\n\n        this.reset();\n    }\n\n    public isActive(): boolean\n    {\n        return this.toX !== null || this.toY !== null;\n    }\n\n    public down(): boolean\n    {\n        this.toX = this.toY = null;\n\n        return false;\n    }\n\n    public up(): boolean\n    {\n        this.bounce();\n\n        return false;\n    }\n\n    public update(elapsed: number): void\n    {\n        if (this.paused)\n        {\n            return;\n        }\n\n        this.bounce();\n\n        if (this.toX)\n        {\n            const toX = this.toX;\n\n            toX.time += elapsed;\n            this.parent.emit('moved', { viewport: this.parent, type: 'bounce-x' });\n\n            if (toX.time >= this.options.time)\n            {\n                this.parent.x = toX.end;\n                this.toX = null;\n                this.parent.emit('bounce-x-end', this.parent);\n            }\n            else\n            {\n                this.parent.x = this.ease(toX.time, toX.start, toX.delta, this.options.time);\n            }\n        }\n\n        if (this.toY)\n        {\n            const toY = this.toY;\n\n            toY.time += elapsed;\n            this.parent.emit('moved', { viewport: this.parent, type: 'bounce-y' });\n\n            if (toY.time >= this.options.time)\n            {\n                this.parent.y = toY.end;\n                this.toY = null;\n                this.parent.emit('bounce-y-end', this.parent);\n            }\n            else\n            {\n                this.parent.y = this.ease(toY.time, toY.start, toY.delta, this.options.time);\n            }\n        }\n    }\n\n    /** @internal */\n    protected calcUnderflowX(): number\n    {\n        let x: number;\n\n        switch (this.underflowX)\n        {\n            case -1:\n                x = 0;\n                break;\n            case 1:\n                x = (this.parent.screenWidth - this.parent.screenWorldWidth);\n                break;\n            default:\n                x = (this.parent.screenWidth - this.parent.screenWorldWidth) / 2;\n        }\n\n        return x;\n    }\n\n    /** @internal */\n    protected calcUnderflowY(): number\n    {\n        let y: number;\n\n        switch (this.underflowY)\n        {\n            case -1:\n                y = 0;\n                break;\n            case 1:\n                y = (this.parent.screenHeight - this.parent.screenWorldHeight);\n                break;\n            default:\n                y = (this.parent.screenHeight - this.parent.screenWorldHeight) / 2;\n        }\n\n        return y;\n    }\n\n    private oob(): Record<'left' | 'right' | 'top' | 'bottom', boolean> & Record<'topLeft' | 'bottomRight', Point>\n    {\n        const box = this.options.bounceBox;\n\n        if (box)\n        {\n            const x1 = typeof box.x === 'undefined' ? 0 : box.x;\n            const y1 = typeof box.y === 'undefined' ? 0 : box.y;\n            const width = typeof box.width === 'undefined' ? this.parent.worldWidth : box.width;\n            const height = typeof box.height === 'undefined' ? this.parent.worldHeight : box.height;\n\n            return {\n                left: this.parent.left < x1,\n                right: this.parent.right > width,\n                top: this.parent.top < y1,\n                bottom: this.parent.bottom > height,\n                topLeft: new Point(\n                    x1 * this.parent.scale.x,\n                    y1 * this.parent.scale.y\n                ),\n                bottomRight: new Point(\n                    (width * this.parent.scale.x) - this.parent.screenWidth,\n                    (height * this.parent.scale.y) - this.parent.screenHeight\n                )\n            };\n        }\n\n        return {\n            left: this.parent.left < 0,\n            right: this.parent.right > this.parent.worldWidth,\n            top: this.parent.top < 0,\n            bottom: this.parent.bottom > this.parent.worldHeight,\n            topLeft: new Point(0, 0),\n            bottomRight: new Point(\n                (this.parent.worldWidth * this.parent.scale.x) - this.parent.screenWidth,\n                (this.parent.worldHeight * this.parent.scale.y) - this.parent.screenHeight\n            )\n        };\n    }\n\n    public bounce(): void\n    {\n        if (this.paused)\n        {\n            return;\n        }\n\n        let oob;\n        let decelerate: undefined | null | {\n            percentChangeX?: number;\n            percentChangeY?: number;\n            x?: number;\n            y?: number;\n            options?: IDecelerateOptions\n        } = this.parent.plugins.get('decelerate', true) as any;\n\n        if (decelerate && (decelerate.x || decelerate.y))\n        {\n            if ((decelerate.x && decelerate.percentChangeX === decelerate.options?.friction)\n            || (decelerate.y && decelerate.percentChangeY === decelerate.options?.friction))\n            {\n                oob = this.oob();\n                if ((oob.left && this.left) || (oob.right && this.right))\n                {\n                    decelerate.percentChangeX = this.options.friction;\n                }\n                if ((oob.top && this.top) || (oob.bottom && this.bottom))\n                {\n                    decelerate.percentChangeY = this.options.friction;\n                }\n            }\n        }\n        const drag: Partial<Drag> = this.parent.plugins.get('drag', true) || {};\n        const pinch: Partial<Pinch> = this.parent.plugins.get('pinch', true) || {};\n\n        decelerate = decelerate || {};\n\n        if (!drag?.active && !pinch?.active && ((!this.toX || !this.toY) && (!decelerate.x || !decelerate.y)))\n        {\n            oob = oob || this.oob();\n            const topLeft = oob.topLeft;\n            const bottomRight = oob.bottomRight;\n\n            if (!this.toX && !decelerate.x)\n            {\n                let x = null;\n\n                if (oob.left && this.left)\n                {\n                    x = (this.parent.screenWorldWidth < this.parent.screenWidth) ? this.calcUnderflowX() : -topLeft.x;\n                }\n                else if (oob.right && this.right)\n                {\n                    x = (this.parent.screenWorldWidth < this.parent.screenWidth) ? this.calcUnderflowX() : -bottomRight.x;\n                }\n                if (x !== null && this.parent.x !== x)\n                {\n                    this.toX = { time: 0, start: this.parent.x, delta: x - this.parent.x, end: x };\n                    this.parent.emit('bounce-x-start', this.parent);\n                }\n            }\n            if (!this.toY && !decelerate.y)\n            {\n                let y = null;\n\n                if (oob.top && this.top)\n                {\n                    y = (this.parent.screenWorldHeight < this.parent.screenHeight) ? this.calcUnderflowY() : -topLeft.y;\n                }\n                else if (oob.bottom && this.bottom)\n                {\n                    y = (this.parent.screenWorldHeight < this.parent.screenHeight) ? this.calcUnderflowY() : -bottomRight.y;\n                }\n                if (y !== null && this.parent.y !== y)\n                {\n                    this.toY = { time: 0, start: this.parent.y, delta: y - this.parent.y, end: y };\n                    this.parent.emit('bounce-y-start', this.parent);\n                }\n            }\n        }\n    }\n\n    public reset(): void\n    {\n        this.toX = this.toY = null;\n        this.bounce();\n    }\n}\n"]}